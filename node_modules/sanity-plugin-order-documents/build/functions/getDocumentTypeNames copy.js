"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getDocumentTypeNames = void 0;

var _schema = _interopRequireDefault(require("part:@sanity/base/schema"));

var _data = require("../data");

var getDocumentTypeNames = function getDocumentTypeNames() {
  var defaultField = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _data.DEFAULT_FIELD;
  return _schema["default"].getTypeNames().map(function (typeName) {
    return _schema["default"].get(typeName);
  }).filter(function (_ref) {
    var type = _ref.type;
    return type && type.name === "document";
  }).map(function (type) {
    return {
      name: type.name,
      title: type.title
    };
  }).filter(function (_ref2) {
    var name = _ref2.name;

    var fields = _schema["default"].get(name).fields;

    console.log(fields);
    var hasOrderField = fields.filter(function (field) {
      return field.name === defaultField;
    }).length > 0;
    return hasOrderField && !name.startsWith("sanity.");
  });
};

exports.getDocumentTypeNames = getDocumentTypeNames;
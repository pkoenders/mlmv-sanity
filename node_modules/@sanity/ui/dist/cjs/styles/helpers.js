"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getResponsiveSpace = exports.getResponsiveProp = exports.responsive = exports.rem = exports.createObject = void 0;
// @todo: invent better name
function createObject(props, value) {
    return props.reduce(function (acc, prop) {
        acc[prop] = value;
        return acc;
    }, {});
}
exports.createObject = createObject;
function rem(pixelValue) {
    if (pixelValue === 0)
        return 0;
    return pixelValue / 16 + "rem";
}
exports.rem = rem;
function responsive(media, statements) {
    return statements.map(function (statement, mediaIndex) {
        var _a;
        if (mediaIndex === 0)
            return statement;
        var mediaKey = "@media(min-width:" + media[mediaIndex - 1] + "px)";
        return _a = {},
            _a[mediaKey] = statement,
            _a;
    });
}
exports.responsive = responsive;
function getResponsiveProp(val, defaultVal) {
    if (defaultVal === void 0) { defaultVal = []; }
    if (val === undefined)
        return defaultVal;
    return Array.isArray(val) ? val : [val];
}
exports.getResponsiveProp = getResponsiveProp;
function getResponsiveSpace(theme, props, spaceIndexes) {
    if (spaceIndexes === void 0) { spaceIndexes = []; }
    if (!Array.isArray(spaceIndexes)) {
        throw new Error('the property must be array of numbers');
    }
    if (spaceIndexes.length === 0) {
        return null;
    }
    return responsive(theme.sanity.media, spaceIndexes.map(function (spaceIndex) { return createObject(props, rem(theme.sanity.space[spaceIndex])); }));
}
exports.getResponsiveSpace = getResponsiveSpace;
//# sourceMappingURL=helpers.js.map